(this["webpackJsonpmeme-in-a-giffy"]=this["webpackJsonpmeme-in-a-giffy"]||[]).push([[0],{31:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a(2),i=a.n(s),o=a(41),r=a.n(o),c=a(10),l=a(11),d=a(13),m=a(12),u=a(16),p=a(5),h=a(28);a(49);h.a.initializeApp({apiKey:"AIzaSyAlgZj6El4zcWxBFVZITap4Sy_BB9fEsgk",authDomain:"meme-in-a-giffy-project6.firebaseapp.com",projectId:"meme-in-a-giffy-project6",storageBucket:"meme-in-a-giffy-project6.appspot.com",messagingSenderId:"1028861060339",appId:"1:1028861060339:web:0bf76cea4d32c4a2110386"});var j=h.a,b=(a(31),a(23)),g=a.n(b),f=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={headerText:"",subheaderText:""},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("header",{id:"header",children:[Object(n.jsx)("h1",{children:this.props.headerText}),Object(n.jsx)("h2",{children:this.props.subheaderText})]})}}]),a}(s.Component),x=a(42),y=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleInputChangeTopText=function(t){e.setState({userTopText:t.target.value})},e.handleInputChangeBottomText=function(t){e.setState({userBottomText:t.target.value})},e.userGeneratedMemes=function(t){t.preventDefault();var a=j.database().ref(),n=document.getElementById("date").value=Date(),s=e.tags.value.split(/[\s,]+/),i={memeImage:e.props.gifUrlProps,memeAltText:e.props.gifAltProps,memeDate:n,memeTopText:e.topText.value,memeBottomText:e.bottomText.value,memeTags:s,memeLikes:e.state.likes,memeDislikes:e.state.dislikes,memeTotalVotes:e.state.total};e.topText.value="",e.bottomText.value="",e.tags.value="",a.push(i),e.setState({userMemes:i})},e.hideCreateMemeSection=function(e){"createMemeSection"===e.target.id&&(document.getElementById("createMemeSection").style.display="none",document.getElementById("header").style.display="flex",document.getElementById("displayedGifsId").style.marginTop="20px",document.getElementById("searchGifId").style.display="flex",document.getElementById("root").style.backgroundColor="rgb(40,40,40)")},e.closeMemeSection=function(){document.getElementById("createMemeSection").style.display="none",document.getElementById("header").style.display="flex",document.getElementById("displayedGifsId").style.marginTop="20px",document.getElementById("searchGifId").style.display="flex",document.getElementById("root").style.backgroundColor="rgb(40,40,40)"},e.clearMemeForm=function(){document.getElementById("selectedGif").style.display="none",document.getElementById("createMemeForm").style.display="none",document.getElementById("displayedGifsId").style.marginTop="20px",document.getElementById("searchGifId").style.display="flex",document.getElementById("postCreationMeme").style.display="block"},e.state={userMemes:"",userTopText:"",userBottomText:"",likes:0,dislikes:0,total:0},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{className:"createMemeSection",id:"createMemeSection",onClick:this.hideCreateMemeSection,children:Object(n.jsxs)("div",{className:"wrapperCreateMemePage",children:[Object(n.jsx)("div",{className:"buttonContainer",children:Object(n.jsx)("button",{className:"closeMemeButton",onClick:this.closeMemeSection,children:"X"})}),Object(n.jsxs)("div",{className:"gifAndForm",id:"gifAndForm",children:[Object(n.jsxs)("div",{className:"selectedGif",id:"selectedGif",children:[Object(n.jsx)("h5",{className:"memeText memeTextTop",children:this.state.userTopText}),Object(n.jsx)("img",{src:this.props.gifUrlProps,alt:this.props.gifAltProps}),Object(n.jsx)("h5",{className:"memeText memeTextBottom",children:this.state.userBottomText})]}),Object(n.jsx)("div",{id:"postCreationMeme",children:Object(n.jsx)(u.b,{to:"/search",children:Object(n.jsx)("button",{className:"glow-on-hover",type:"button",children:"Search Memes!"})})}),Object(n.jsxs)("form",{action:"",onSubmit:this.userGeneratedMemes,className:"createMemeForm",id:"createMemeForm",children:[Object(n.jsx)("input",Object(x.a)({className:"srOnly",id:"date",name:"date"},"className","hiddenDate")),Object(n.jsx)("label",{htmlFor:"topText",children:"Top Text"}),Object(n.jsx)("input",{type:"text",id:"topText",className:"userInput",required:!0,placeholder:"Top Text",maxLength:"30",ref:function(t){return e.topText=t},onChange:this.handleInputChangeTopText}),Object(n.jsx)("label",{htmlFor:"bottomText",children:"Bottom Text"}),Object(n.jsx)("input",{type:"text",id:"bottomText",className:"userInput",required:!0,placeholder:"Bottom Text",maxLength:"30",ref:function(t){return e.bottomText=t},onChange:this.handleInputChangeBottomText}),Object(n.jsx)("label",{htmlFor:"tags",children:"Tags"}),Object(n.jsx)("input",{type:"text",id:"tags",className:"userInput",required:!0,placeholder:"Separate tags by commas or spaces",ref:function(t){return e.tags=t}}),Object(n.jsx)("input",{type:"submit",className:"submit",value:"Submit!",onClick:this.clearMemeForm})]})]})]})})}}]),a}(s.Component),O=a(24),T=a(18),v=a(17);T.b.add(v.a,v.b);var I=function(e){var t=e.topText,a=e.bottomText,s=e.tags,i=e.image,o=e.alt,r=e.likes,c=e.dislikes,l=e.totalVotes,d=e.upVoteHandler,m=e.propertyKey,u=e.downVoteHandler,p="".concat(s).replace(/[^a-zA-Z ]/g," "),h="".concat(o).replace(/[^a-zA-Z ]/g," "),j="".concat(t).replace(/[^a-zA-Z ]/g," "),b="".concat(a).replace(/[^a-zA-Z ]/g," ");return Object(n.jsxs)("li",{className:"eachMemeStyleContainer ".concat(p," ").concat(h," ").concat(j," ").concat(b," "),children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{children:t}),Object(n.jsx)("img",{src:i,alt:h}),Object(n.jsx)("p",{children:a})]}),Object(n.jsxs)("div",{clasName:"voteBtns",children:[Object(n.jsxs)("button",{"aria-label":"upvote this meme",onClick:function(){d(m,r,l)},children:[Object(n.jsx)("p",{children:r}),Object(n.jsx)(O.a,{icon:v.b})]}),Object(n.jsx)("button",{children:l}),Object(n.jsxs)("button",{"aria-label":"downvote this meme",onClick:function(){u(m,c,l)},children:[Object(n.jsx)("p",{children:c}),Object(n.jsx)(O.a,{icon:v.a})]})]})]})};T.b.add(v.a,v.b);var C=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).upVote=function(e,t,a){j.database().ref().child(e).update({memeLikes:t+1,memeTotalVotes:a+1})},e.downVote=function(e,t,a){j.database().ref().child(e).update({memeDislikes:t+1,memeTotalVotes:a-1})},e.state={ogMemeArray:[]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;j.database().ref(),j.database().ref().on("value",(function(t){var a=t.val(),n=[];for(var s in a){var i={propertyKey:s,topText:a[s].memeTopText,bottomText:a[s].memeBottomText,image:a[s].memeImage,alt:a[s].memeAltText,tags:a[s].memeTags,date:a[s].memeDate,likes:a[s].memeLikes,dislikes:a[s].memeDislikes,totalVotes:a[s].memeTotalVotes};n.push(i),n.sort((function(e,t){return new Date(t.date)-new Date(e.date)}))}e.setState({ogMemeArray:n})}))}},{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{children:[Object(n.jsx)("button",{onClick:function(){for(var e=document.getElementsByClassName("eachMemeStyleContainer"),t=0;t<e.length;t++)e[t].style.display="none";for(var a=document.getElementsByClassName("Hair"),n=0;n<a.length;n++)a[n].style.display="flex"},children:"Search"}),Object(n.jsx)("ul",{className:"eachMemeStyle",children:this.state.ogMemeArray.map((function(t){return Object(n.jsx)(I,{propertyKey:t.propertyKey,topText:t.topText,bottomText:t.bottomText,image:t.image,alt:t.alt,tags:t.tags,likes:t.likes,dislikes:t.dislikes,totalVotes:t.totalVotes,upVoteHandler:e.upVote,downVoteHandler:e.downVote})}))})]})}}]),a}(s.Component),B=function(){return Object(n.jsx)("footer",{children:Object(n.jsxs)("p",{children:[" ","\xa9"," ",Object(n.jsx)("a",{href:"https://junocollege.com/",children:"Juno College 2020"})]})})},k=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).handleInputChange=function(t){e.setState({userInput:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.giphyAPICall(e.state.userInput)},e.giphyAPICall=function(t){g()({url:"https://api.giphy.com/v1/gifs/search",method:"GET",responseType:"json",params:{api_key:"AiDUd8ngqnIcqZ5dXnGV8r4Aymleu4wa",q:t,limit:50,rating:"g"}}).then((function(t){if(0===t.data.data.length){e.setState({displayedGifs:[{id:"123ABC",images:{downsized_large:{url:"https://media1.giphy.com/media/gfO3FcnL8ZK9wVgr6t/giphy.gif?\u20260f423ee6unrij1gzkfdf27jyfmh9v3oxbgftbq88ajrpq0&rid=giphy.gif"}}}]})}else console.log(t.data.data),e.setState({displayedGifs:t.data.data})}))},e.giphyTrendingAPICall=function(){g()({url:"https://api.giphy.com/v1/gifs/trending",method:"GET",responseType:"json",params:{api_key:"AiDUd8ngqnIcqZ5dXnGV8r4Aymleu4wa",limit:12,rating:"g"}}).then((function(t){e.setState({displayedGifs:t.data.data})}))},e.passUrl=function(t){e.setState({gifUrl:t.target.src,gifAlt:t.target.alt}),document.getElementById("createMemeSection").style.display="flex",document.getElementById("selectedGif").style.display="flex",document.getElementById("createMemeForm").style.display="flex",document.getElementById("displayedGifsId").style.marginTop=0,document.getElementById("root").style.backgroundColor="rgba(1, 1, 1, 0.9)",document.getElementById("searchGifId").style.display="none",document.getElementById("header").style.display="none",document.getElementById("postCreationMeme").style.display="none"},e.state={userInput:"",displayedGifs:[],gifUrl:[],gifAlt:[]},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.giphyTrendingAPICall()}},{key:"render",value:function(){var e=this;return Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)(f,{headerText:"Meme in a Giffy",subheaderText:"Search for Gifs to create your very own meme!"}),Object(n.jsxs)("section",{className:"wrapper",id:"wrapper",children:[Object(n.jsxs)("div",{className:"flexboxSearchGifs",id:"searchGifId",children:[Object(n.jsxs)("form",{onSubmit:this.handleSubmit,className:"flexbox searchGifForm",children:[Object(n.jsx)("label",{htmlFor:"userGifSearch",className:"srOnly",children:"Search for Gif:"}),Object(n.jsx)("input",{type:"text",id:"userGifSearch",name:"userGifSearch",placeholder:"Search Gifs",required:!0,onChange:this.handleInputChange}),Object(n.jsx)("button",{children:"Find Gif"})]}),Object(n.jsx)("div",{className:"viewMemesButtonContainer",children:Object(n.jsx)(u.b,{to:"/search",children:Object(n.jsx)("button",{className:"glow-on-hover",type:"button",children:"View Created Memes"})})})]}),Object(n.jsx)("div",{children:Object(n.jsx)(y,{gifUrlProps:this.state.gifUrl,gifAltProps:this.state.gifAlt})}),Object(n.jsx)("ul",{className:"gifs flexbox",id:"displayedGifsId",children:this.state.displayedGifs.map((function(t){return"123ABC"===t.id?Object(n.jsxs)("li",{className:"gifContainer noPointer",children:[Object(n.jsx)("p",{className:"noGifFoundText",children:"Sorry No GIFs found, search again!"}),Object(n.jsx)("img",{src:t.images.downsized_large.url,alt:t.title})]},t.id):Object(n.jsx)("li",{className:"gifContainer normalPointer",children:Object(n.jsx)("img",{className:"gifs",src:t.images.downsized_large.url,alt:t.title,onClick:e.passUrl})},t.id)}))})]})]})}}]),a}(s.Component),S=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(s.Fragment,{children:[Object(n.jsx)(f,{headerText:"Meme in a Giffy",subheaderText:""}),Object(n.jsx)(u.b,{to:"/search",children:Object(n.jsx)("button",{className:"glow-on-hover",type:"button",children:"Search Memes!"})}),Object(n.jsx)(u.b,{to:"/memecreator",children:Object(n.jsx)("button",{className:"glow-on-hover",type:"button",children:"Create Memes!"})})]})}}]),a}(s.Component),M=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=j.database().ref();console.log("This is your firebase database:",e)}},{key:"render",value:function(){return Object(n.jsxs)(u.a,{children:[Object(n.jsx)(p.a,{exact:!0,path:"/",component:S}),Object(n.jsx)(p.a,{path:"/memecreator",component:k}),Object(n.jsx)(p.a,{path:"/search",component:C}),Object(n.jsx)(B,{})]})}}]),a}(s.Component),G=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,75)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),n(e),s(e),i(e),o(e)}))};r.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(M,{})}),document.getElementById("root")),G()}},[[74,1,2]]]);
//# sourceMappingURL=main.546a2cfe.chunk.js.map